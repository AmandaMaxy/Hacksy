{% extends "hackathons/base.html" %}
{% load static from staticfiles %}

{% block body %}
    <div class="container">
    	<div class="row-fluid box">
    		<div class="span4 offset2">
    			<h3>New Judge</h3>
    		</div>
            <div class="span4">
                <a class="btn-hacksy pull-right" href="{{hackathon.get_absolute_url}}">Back</a>
            </div>            
    	</div>
	    <div class="row-fluid">
	    	<div class="span8 offset2 well">
<!-- 		    <form action="" method="post" enctype="multipart/form-data">
		        {% csrf_token %}
		        {{form.as_p}}
		        <input class="btn btn-warning btn-edit" type="submit" value="Submit"></input>
		    </form>	 -->    

	    		<form action="" method="post" enctype="multipart/form-data"> {% csrf_token %}
			    <!-- <p><label for="id_image">Image:</label> <input type="file" name="image" id="id_image" /></p> -->
				<div class="row-fluid">
				<div class="span6">
            	<label class="filebutton profile-image-box btn-hacksy">
            		
            		<div class="centered ">
                        {% if form.initial.image %}
                            <img class="profile-image" id="profile-img" src="{{form.initial.image.url}}" style="padding-top:0px;height:100%; width:100%;" name="image">
                        {% else %}
                            <img id="profile-img" src="{% static 'assets/images/upload_photo_icon.png' %}" style="padding-top:40px;" name="image">
                        {% endif %}
						<h3 id="caption" style="color: white;">Add Profile Picture</h3>
					</div>

					<span><input type="file" name="image" id="id_image" onchange="readURL(this);"></span>
				
				</label>
				{{form.image.errors}}

                <script type="text/javascript">
                    function readURL(input) {
                        if (input.files && input.files[0]) {
                            var reader = new FileReader();

                            reader.onload = function (e) {
                                $('#profile-img').attr('src', e.target.result);
                                $('#profile-img').css({ padding : '0px',
                                					   height : '100%',
                                					   width: '100%'});
                                $('#caption').hide();

                            };

                            reader.readAsDataURL(input.files[0]);
                        }
                    }
                </script>
				</div>
				

				<div class="span6">
                <p><label for="id_name">Name:</label> <input id="id_name" type="text" name="name" maxlength="500" /></p>
				<p><label for="id_description">Description:</label> <textarea class="autosize-box" id="id_description" rows="6" cols="40" name="description"></textarea></p>
				</div>
				</div>
				<input class="btn btn-warning btn-edit" type="submit" value="Submit"></input>
				</form>
	    	</div>	
    </div>
    </div>

<style type="text/css">
/* Picture Styling */
.profile-image-box {
	padding: 0px;
	height: 250px;
	width: 250px;
}
label.filebutton {
    overflow:hidden;
    position:relative;
    background-color: orange;
}
label span input {
    z-index: 999;
    line-height: 0;
    font-size: 50px;
    position: absolute;
    top: -2px;
    left: -700px;
    opacity: 0;
    filter: alpha(opacity = 0);
    -ms-filter: "alpha(opacity=0)";
    cursor: pointer;
    _cursor: hand;
    margin: 0;
    padding:0;
}
</style>

<script src="{% static 'lib/autosize/jquery.autosize.js' %}"></script>
<script type="text/javascript">
    $(window).load(function() {
        $('.autosize-box').autosize({append: "\n"});

	});        	
</script>

{% endblock %}
