
<div class="row-fluid">
    <div class="span12">
        <h4>Hackers:</h4>
        {{form.hackers.errors}}
        <div class="row-fluid">
            <ul class="thumbnails centered" id="hacker-thumb-list">
                <li class="span2 hacker-thumb">
                    <div class="thumbnail">
                        <img data-src="holder.js/64x64" alt="">
                        <a class="hacker-name" href="">{{user.get_full_name}}</a>
                    </div>
                </li>
            </ul>
        </div>

        <div class="row-fluid" id="add-hacker-reveal" style="display:none;">
            <div class="row-fluid">
                <div class="span12 pull-right">
                    <button type="button" class="close" aria-hidden="true">&times;</button>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span4 offset1 centered">
                    <a class="btn btn-warning" id="hacksy-profile">Use Hacksy profile</a>
                    <input type="text" class="span12 inlined" placeholder="search hacker" id="hacksy-profile-reveal">
                </div>
                <div class="span2">
                    <h4 class="centered" style="color:lightgray;">OR</h4>
                </div>
                <div class="span4">
                    <input type="text" id="hacker-name-field" class="span12 inlined" placeholder="hacker's name...">
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12">
                    <a id="add-button" class="span12 btn btn-info pull-right">Add</a>
                </div>
            </div>
            <input name="hackers" type="text" value="{{user.username}}" id="hacker-list" style="display:none;"></input>
        </div>

        <div class="row-fluid">
            <div class="span12">
                <a href="#" id="add-hacker">Add a Hacker</a>
            </div>
        </div>
    </div>


<script type="text/javascript">
    $(window).load(function() {

        $('#tooltiped').tooltip();

        function close_add_box(){
            $('#add-hacker-reveal').hide();
            $('#add-hacker').show();
            $('#hacksy-profile-reveal').hide();
            $('#hacksy-profile').show();
            $('#register').show();
        }
        $('#add-hacker-reveal').hide();
        $('#hacksy-profile-reveal').hide();

        $('#add-hacker').click(function() {
            $('#add-hacker-reveal').show();
            $('#add-hacker').hide();
            $('#register').hide();
            return false;
        });

        $('#add-button').click(function(){
            close_add_box(); 

            var hthumb_list = $("#hacker-thumb-list");
            var hthumb = $($(".hacker-thumb")[0]).clone();
            var name = $("#hacker-name-field").val();
            
            hthumb.find(".hacker-name").html(name);
            var option = "," + name;
            var value = $("#hacker-list").val() + option;

            hthumb_list.append(hthumb);
            $("#hacker-list").val(value);
            return false;
        });

        $('.close').click(function() {
            close_add_box(); 
            return false;
        });

        $('#hacksy-profile').click(function() {
            $('#hacksy-profile').hide();
            $('#hacksy-profile-reveal').fadeIn();
        });
    });
</script>
